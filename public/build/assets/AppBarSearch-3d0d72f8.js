import{a8 as A,aa as $,ab as C,r as _,a_ as F,w as y,aD as L,a4 as T,q as k,ad as K,b as o,aC as U,b0 as z,bT as N,a as O,o as B,f as q,e as c,m as p,a2 as M,bU as I,d as f,a0 as S,J as w,c as j,F as Q,h as J,z as g,t as W,v as E,K as x,Q as X,R as G}from"./main-29a7e903.js";import{P as H}from"./vue3-perfect-scrollbar.esm-759e1b31.js";import{_ as Y}from"./_plugin-vue_export-helper-c27b6911.js";import{V as Z}from"./VCard-b7348546.js";import{V as P}from"./VCardText-b95a9228.js";import{d as ee}from"./VTextField-9aef999f.js";import{V as ae}from"./VDivider-d8ac2264.js";import{V as te,a as se}from"./VList-d7dd7f23.js";import{m as oe,u as le,V as R}from"./VOverlay-03725248.js";import{f as re}from"./forwardRefs-8348545e.js";import{V as ie}from"./dialog-transition-5d4d42cc.js";import"./VAvatar-b117b733.js";import"./VImg-e4bbef79.js";import"./transition-0db7838c.js";import"./easing-9f15041e.js";import"./ssrBoot-370d6aba.js";import"./lazy-4bc7490f.js";const ne=A({fullscreen:Boolean,retainFocus:{type:Boolean,default:!0},scrollable:Boolean,...oe({origin:"center center",scrollStrategy:"block",transition:{component:ie},zIndex:2400})},"VDialog"),ce=$()({name:"VDialog",props:ne(),emits:{"update:modelValue":t=>!0},setup(t,V){let{slots:r}=V;const u=C(t,"modelValue"),{scopeId:b}=le(),i=_();function h(a){var d,e;const s=a.relatedTarget,n=a.target;if(s!==n&&((d=i.value)!=null&&d.contentEl)&&((e=i.value)!=null&&e.globalTop)&&![document,i.value.contentEl].includes(n)&&!i.value.contentEl.contains(n)){const l=z(i.value.contentEl);if(!l.length)return;const v=l[0],m=l[l.length-1];s===v?m.focus():v.focus()}}F&&y(()=>u.value&&t.retainFocus,a=>{a?document.addEventListener("focusin",h):document.removeEventListener("focusin",h)},{immediate:!0}),y(u,async a=>{var s,n;await L(),a?(s=i.value.contentEl)==null||s.focus({preventScroll:!0}):(n=i.value.activatorEl)==null||n.focus({preventScroll:!0})});const D=T(()=>k({"aria-haspopup":"dialog","aria-expanded":String(u.value)},t.activatorProps));return K(()=>{const[a]=R.filterProps(t);return o(R,k({ref:i,class:["v-dialog",{"v-dialog--fullscreen":t.fullscreen,"v-dialog--scrollable":t.scrollable},t.class],style:t.style},a,{modelValue:u.value,"onUpdate:modelValue":s=>u.value=s,"aria-modal":"true",activatorProps:D.value,role:"dialog"},b),{activator:r.activator,default:function(){for(var s=arguments.length,n=new Array(s),d=0;d<s;d++)n[d]=arguments[d];return o(U,{root:"VDialog"},{default:()=>{var e;return[(e=r.default)==null?void 0:e.call(r,...n)]}})}})}),re({},i)}}),ue=t=>(X("data-v-b2ceff69"),t=t(),G(),t),de={class:"d-flex align-center text-high-emphasis me-1"},pe={class:"d-flex align-start"},fe={class:"h-100"},me={class:"h-100"},ve={class:"app-bar-search-suggestions d-flex flex-column align-center justify-center text-high-emphasis h-100"},he={class:"d-flex align-center flex-wrap justify-center gap-2 text-h6 my-3"},ge=ue(()=>f("span",null,"No Result For ",-1)),_e={__name:"AppBarSearch",props:{isDialogVisible:{type:Boolean,required:!0},searchResults:{type:Array,required:!0}},emits:["update:isDialogVisible","search"],setup(t,{emit:V}){const r=t,u=V,{ctrl_k:b,meta_k:i}=N({passive:!1,onEventFired(e){e.ctrlKey&&e.key==="k"&&e.type==="keydown"&&e.preventDefault()}}),h=_(),D=_(),a=_("");y([b,i],()=>{u("update:isDialogVisible",!0)});const s=()=>{a.value="",u("update:isDialogVisible",!1)},n=e=>{var l,v;e.key==="ArrowDown"?(e.preventDefault(),(l=h.value)==null||l.focus("next")):e.key==="ArrowUp"&&(e.preventDefault(),(v=h.value)==null||v.focus("prev"))},d=e=>{a.value="",u("update:isDialogVisible",e)};return y(()=>r.isDialogVisible,()=>{a.value=""}),(e,l)=>{const v=O("IconBtn");return B(),q(ce,{"max-width":"600","model-value":r.isDialogVisible,height:e.$vuetify.display.smAndUp?"550":"100%",fullscreen:e.$vuetify.display.width<600,class:"app-bar-search-dialog","onUpdate:modelValue":d,onKeyup:I(s,["esc"])},{default:c(()=>[o(Z,{height:"100%",width:"100%",class:"position-relative"},{default:c(()=>[o(P,{class:"pt-2"},{default:c(()=>[o(ee,{ref_key:"refSearchInput",ref:D,modelValue:p(a),"onUpdate:modelValue":[l[0]||(l[0]=m=>M(a)?a.value=m:null),l[1]||(l[1]=m=>e.$emit("search",p(a)))],autofocus:"",density:"comfortable",variant:"plain",onKeyup:I(s,["esc"]),onKeydown:n},{"prepend-inner":c(()=>[f("div",de,[o(S,{size:"22",icon:"tabler-search",style:{opacity:"1"}})])]),"append-inner":c(()=>[f("div",pe,[f("div",{class:"text-base text-disabled cursor-pointer me-1",onClick:s}," [esc] "),o(v,{size:"22",onClick:s},{default:c(()=>[o(S,{icon:"tabler-x",size:"20"})]),_:1})])]),_:1},8,["modelValue"])]),_:1}),o(ae),o(p(H),{options:{wheelPropagation:!1,suppressScrollX:!0},class:"h-100"},{default:c(()=>[w(o(p(te),{ref_key:"refSearchList",ref:h,density:"compact",class:"app-bar-search-list"},{default:c(()=>[(B(!0),j(Q,null,J(r.searchResults,m=>g(e.$slots,"searchResult",{key:m,item:m},()=>[o(p(se),null,{default:c(()=>[W(E(m),1)]),_:2},1024)],!0)),128))]),_:3},512),[[x,p(a).length&&!!r.searchResults.length]]),w(f("div",fe,[g(e.$slots,"suggestions",{},void 0,!0)],512),[[x,!!r.searchResults&&!p(a)&&e.$slots.suggestions]]),w(f("div",me,[g(e.$slots,"noData",{},()=>[o(P,{class:"h-100"},{default:c(()=>[f("div",ve,[o(S,{size:"75",icon:"tabler-file-x"}),f("div",he,[ge,f("span",null,'"'+E(p(a))+'"',1)]),g(e.$slots,"noDataSuggestion",{},void 0,!0)])]),_:3})],!0)],512),[[x,!r.searchResults.length&&p(a).length]])]),_:3})]),_:3})]),_:3},8,["model-value","height","fullscreen"])}}},Le=Y(_e,[["__scopeId","data-v-b2ceff69"]]);export{Le as default};
