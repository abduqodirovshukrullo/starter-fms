import{j as Q,o as x,f as D,e,b as t,a0 as N,d as n,v as p,t as m,a6 as $,y as G,i as S,r as c,au as j,a4 as z,m as a,a2 as g,q as I,c as H,h as J,F as K}from"./main-29a7e903.js";import{$ as X}from"./api-ac4fc31b.js";import{a as B,V as E}from"./VRow-7957ebcb.js";import{V as R}from"./VCard-b7348546.js";import{V as w}from"./VCardText-b95a9228.js";import{V as Y}from"./VAvatar-b117b733.js";import{a as L,V as Z,p as ee,b as te}from"./VPagination-52ae3798.js";import{V as q}from"./VDivider-d8ac2264.js";import{V as ae,a as k,b as P}from"./VList-d7dd7f23.js";import{u as M}from"./useApi-271710d5.js";import{V as se,a as le,b as oe,c as re}from"./VWindowItem-4283779f.js";import"./index-51d05da2.js";import"./VImg-e4bbef79.js";import"./transition-0db7838c.js";import"./VTextField-9aef999f.js";import"./easing-9f15041e.js";import"./forwardRefs-8348545e.js";import"./dialog-transition-5d4d42cc.js";import"./VMenu-b995652d.js";import"./VOverlay-03725248.js";import"./lazy-4bc7490f.js";import"./VCheckboxBtn-8066a1c2.js";import"./ssrBoot-370d6aba.js";const ie={class:"text-h4 mt-4"},ne=n("p",{class:"text-sm text-uppercase text-disabled"}," Details ",-1),ue={class:"text-h6"},de={class:"text-body-1"},ce={class:"text-h6"},me={class:"text-body-1"},pe={class:"text-h6"},_e={__name:"UserBioPanel",props:{userData:{type:Object,required:!0}},setup(y){const o=Q(),i=y,V=async _=>{await X(`/dashboard/admin/user/${_}`,{method:"DELETE"}),o.push("/users/list")};return(_,r)=>(x(),D(E,null,{default:e(()=>[t(B,{cols:"12"},{default:e(()=>[y.userData?(x(),D(R,{key:0},{default:e(()=>[t(w,{class:"text-center pt-15"},{default:e(()=>[t(Y,{rounded:"",size:100,color:"primary",variant:"tonal"},{default:e(()=>[t(N,{icon:"tabler-user-pentagon",size:"28"})]),_:1}),n("h6",ie,p(i.userData.name),1),t(L,{label:"",color:"info",size:"small",class:"text-capitalize mt-3"},{default:e(()=>[m(p("supervisor"))]),_:1})]),_:1}),t(q),t(w,null,{default:e(()=>[ne,t(ae,{class:"card-list mt-2"},{default:e(()=>[t(k,null,{default:e(()=>[t(P,null,{default:e(()=>[n("h6",ue,[m(" Name: "),n("span",de,p(i.userData.name),1)])]),_:1})]),_:1}),t(k,null,{default:e(()=>[t(P,null,{default:e(()=>[n("h6",ce,[m(" Email: "),n("span",me,p(i.userData.email),1)])]),_:1})]),_:1}),t(k,null,{default:e(()=>[t(P,null,{default:e(()=>[n("h6",pe,[m(" Status: "),t(L,{label:"",size:"small",color:"success",class:"text-capitalize"},{default:e(()=>[m(p("Active"))]),_:1})])]),_:1})]),_:1})]),_:1})]),_:1}),t(w,{class:"d-flex justify-end"},{default:e(()=>[t($,{onClick:r[0]||(r[0]=b=>V(i.userData.id)),variant:"tonal",color:"error"},{default:e(()=>[m(" Suspend ")]),_:1})]),_:1})]),_:1})):G("",!0)]),_:1})]),_:1}))}},fe={class:"d-flex align-center justify-sm-space-between justify-center flex-wrap gap-3 pa-5 pt-3"},Ve={class:"text-sm text-disabled mb-0"},ve={__name:"UserTabActions",async setup(y){let o,i;const V=S(),_=[{title:"Id",key:"id"},{title:"Description",key:"description"},{title:"Ip address",key:"ipAddress"},{title:"Created at",key:"created_at"}],r=c(""),b=c(),U=c(),f=c(),s=c(10),u=c(1),A=c(),C=c(),F=v=>{var d,l;u.value=v.page,A.value=(d=v.sortBy[0])==null?void 0:d.key,C.value=(l=v.sortBy[0])==null?void 0:l.order,O()},{data:T,execute:O}=([o,i]=j(()=>M(`/dashboard/admin/user/${V.params.id}/actions`,{query:{q:r,status:f,plan:U,role:b,itemsPerPage:s,page:u,sortBy:A,orderBy:C}})),o=await o,i(),o),W=z(()=>T.value.result.userActivities.data),h=z(()=>T.value.result.userActivities.total);return(v,d)=>(x(),D(R,{title:"User activity"},{default:e(()=>[t(a(Z),{"items-per-page":a(s),"onUpdate:itemsPerPage":d[1]||(d[1]=l=>g(s)?s.value=l:null),page:a(u),"onUpdate:page":d[2]||(d[2]=l=>g(u)?u.value=l:null),items:a(W),"items-length":a(h),headers:_,class:"text-no-wrap","onUpdate:options":F},{"item.created_at":e(({item:l})=>[m(p(new Date(l.created_at).toDateString()),1)]),bottom:e(()=>[t(q),n("div",fe,[n("p",Ve,p(a(ee)({page:a(u),itemsPerPage:a(s)},a(h))),1),t(te,{modelValue:a(u),"onUpdate:modelValue":d[0]||(d[0]=l=>g(u)?u.value=l:null),length:Math.ceil(a(h)/a(s)),"total-visible":v.$vuetify.display.xs?1:Math.ceil(a(h)/a(s))},{prev:e(l=>[t($,I({variant:"tonal",color:"default"},l,{icon:!1}),{default:e(()=>[m(" Previous ")]),_:2},1040)]),next:e(l=>[t($,I({variant:"tonal",color:"default"},l,{icon:!1}),{default:e(()=>[m(" Next ")]),_:2},1040)]),_:1},8,["modelValue","length","total-visible"])])]),_:1},8,["items-per-page","page","items","items-length"])]),_:1}))}},qe={__name:"[id]",async setup(y){let o,i;const V=S(),_=[{icon:"tabler-notes",title:"Actions"}],r=c(null),{data:b}=([o,i]=j(()=>M(`/dashboard/admin/user/${V.params.id}`)),o=await o,i(),o);return(U,f)=>(x(),D(E,null,{default:e(()=>[t(B,{cols:"12",md:"5",lg:"4"},{default:e(()=>[t(_e,{"user-data":a(b).result},null,8,["user-data"])]),_:1}),t(B,{cols:"12",md:"7",lg:"8"},{default:e(()=>[t(se,{modelValue:a(r),"onUpdate:modelValue":f[0]||(f[0]=s=>g(r)?r.value=s:null),class:"v-tabs-pill"},{default:e(()=>[(x(),H(K,null,J(_,s=>t(re,{key:s.icon},{default:e(()=>[t(N,{size:18,icon:s.icon,class:"me-1"},null,8,["icon"]),n("span",null,p(s.title),1)]),_:2},1024)),64))]),_:1},8,["modelValue"]),t(le,{modelValue:a(r),"onUpdate:modelValue":f[1]||(f[1]=s=>g(r)?r.value=s:null),class:"mt-6 disable-tab-transition",touch:!1},{default:e(()=>[t(oe,null,{default:e(()=>[t(ve)]),_:1})]),_:1},8,["modelValue"])]),_:1})]),_:1}))}};export{qe as default};
