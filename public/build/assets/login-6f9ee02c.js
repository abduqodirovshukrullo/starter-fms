import{a4 as f,b0 as E,o as L,c as Ve,m,f as oe,y as ye,b as l,b1 as he,h as ge,b2 as H,b3 as W,x as ke,e as V,z as Ce,b4 as $,a8 as I,aj as q,aY as xe,ah as G,aI as pe,am as _e,aa as P,ab as S,ac as M,O as Ie,b5 as Se,aZ as we,$ as g,ad as F,aN as Pe,au as J,r as T,b6 as ne,q as w,J as Fe,aW as Be,F as Ae,a0 as $e,U as Re,aS as Te,b7 as Q,aq as De,an as Ue,b8 as je,aw as se,a9 as ue,i as Le,j as qe,d as p,t as U,v as Ge,a5 as Me,a6 as Ne,H as Y,ag as j}from"./main-40cc9b9a.js";import{V as re,a as Oe,m as ze,u as Ee,b as Z,c as He,d as We}from"./VTextField-b90eed4e.js";import{u as K,m as Je,a as Qe}from"./misc-mask-light-6f9f90b6.js";import{V as Ye}from"./VNodeRenderer-2c5bc0a6.js";import{u as Ze}from"./useAbility-8f18e382.js";import{s as Ke,u as Xe}from"./index-805f372a.js";import{V as X}from"./VImg-3a8899fa.js";import{a as R,V as ee}from"./VRow-89be024e.js";import{V as et}from"./VCard-30b33896.js";import{V as te}from"./VCardText-590ee4bc.js";import{f as tt}from"./forwardRefs-6ea3df5c.js";import"./VAvatar-3f26509e.js";const at=Object.assign({name:"AppTextField",inheritAttrs:!1},{__name:"AppTextField",setup(e){const o=f(()=>{const t=E(),a=t.id||t.label;return a?`app-text-field-${a}-${Math.random().toString(36).slice(2,7)}`:void 0}),r=f(()=>E().label);return(t,a)=>(L(),Ve("div",{class:ke(["app-text-field flex-grow-1",t.$attrs.class])},[m(r)?(L(),oe(re,{key:0,for:m(o),class:"mb-1 text-body-2 text-high-emphasis",text:m(r)},null,8,["for","text"])):ye("",!0),l(Oe,H(W({...t.$attrs,class:null,label:void 0,variant:"outlined",id:m(o)})),he({_:2},[ge(t.$slots,(i,c)=>({name:c,fn:V(s=>[Ce(t.$slots,c,H(W(s||{})))])}))]),1040)],2))}}),lt="/build/assets/auth-v2-login-illustration-bordered-dark-a595a9b7.png",ot="/build/assets/auth-v2-login-illustration-bordered-light-47ee3625.png",nt="/build/assets/auth-v2-login-illustration-dark-0878e8b9.png",st="/build/assets/auth-v2-login-illustration-light-d1fd488d.png",ut=(e,o)=>f(()=>{if(!(o!=null&&o.query))return $(e);const r=$(e),t=$(o==null?void 0:o.query),a=Object.fromEntries(Object.entries(t).map(([i,c])=>[i,$(c)]));return`${r}${a?`?${Ke(a)}`:""}`});const ie=Symbol.for("vuetify:selection-control-group"),ce=I({color:String,disabled:{type:Boolean,default:null},defaultsTarget:String,error:Boolean,id:String,inline:Boolean,falseIcon:q,trueIcon:q,ripple:{type:Boolean,default:!0},multiple:{type:Boolean,default:null},name:String,readonly:Boolean,modelValue:null,type:String,valueComparator:{type:Function,default:xe},...G(),...pe(),..._e()},"SelectionControlGroup"),rt=I({...ce({defaultsTarget:"VSelectionControl"})},"VSelectionControlGroup");P()({name:"VSelectionControlGroup",props:rt(),emits:{"update:modelValue":e=>!0},setup(e,o){let{slots:r}=o;const t=S(e,"modelValue"),a=M(),i=f(()=>e.id||`v-selection-control-group-${a}`),c=f(()=>e.name||i.value),s=new Set;return Ie(ie,{modelValue:t,forceUpdate:()=>{s.forEach(n=>n())},onForceUpdate:n=>{s.add(n),Se(()=>{s.delete(n)})}}),we({[e.defaultsTarget]:{color:g(e,"color"),disabled:g(e,"disabled"),density:g(e,"density"),error:g(e,"error"),inline:g(e,"inline"),modelValue:t,multiple:f(()=>!!e.multiple||e.multiple==null&&Array.isArray(t.value)),name:c,falseIcon:g(e,"falseIcon"),trueIcon:g(e,"trueIcon"),readonly:g(e,"readonly"),ripple:g(e,"ripple"),type:g(e,"type"),valueComparator:g(e,"valueComparator")}}),F(()=>{var n;return l("div",{class:["v-selection-control-group",{"v-selection-control-group--inline":e.inline},e.class],style:e.style,role:e.type==="radio"?"radiogroup":void 0},[(n=r.default)==null?void 0:n.call(r)])}),{}}});const de=I({label:String,trueValue:null,falseValue:null,value:null,...G(),...ce()},"VSelectionControl");function it(e){const o=Re(ie,void 0),{densityClasses:r}=Te(e),t=S(e,"modelValue"),a=f(()=>e.trueValue!==void 0?e.trueValue:e.value!==void 0?e.value:!0),i=f(()=>e.falseValue!==void 0?e.falseValue:!1),c=f(()=>!!e.multiple||e.multiple==null&&Array.isArray(t.value)),s=f({get(){const y=o?o.modelValue.value:t.value;return c.value?y.some(h=>e.valueComparator(h,a.value)):e.valueComparator(y,a.value)},set(y){if(e.readonly)return;const h=y?a.value:i.value;let k=h;c.value&&(k=y?[...Q(t.value),h]:Q(t.value).filter(C=>!e.valueComparator(C,a.value))),o?o.modelValue.value=k:t.value=k}}),{textColorClasses:n,textColorStyles:d}=De(f(()=>s.value&&!e.error&&!e.disabled?e.color:void 0)),{backgroundColorClasses:u,backgroundColorStyles:b}=Ue(f(()=>s.value&&!e.error&&!e.disabled?e.color:void 0)),v=f(()=>s.value?e.trueIcon:e.falseIcon);return{group:o,densityClasses:r,trueValue:a,falseValue:i,model:s,textColorClasses:n,textColorStyles:d,backgroundColorClasses:u,backgroundColorStyles:b,icon:v}}const ae=P()({name:"VSelectionControl",directives:{Ripple:Pe},inheritAttrs:!1,props:de(),emits:{"update:modelValue":e=>!0},setup(e,o){let{attrs:r,slots:t}=o;const{group:a,densityClasses:i,icon:c,model:s,textColorClasses:n,textColorStyles:d,backgroundColorClasses:u,backgroundColorStyles:b,trueValue:v}=it(e),y=M(),h=f(()=>e.id||`input-${y}`),k=J(!1),C=J(!1),_=T();a==null||a.onForceUpdate(()=>{_.value&&(_.value.checked=s.value)});function B(x){k.value=!0,je(x.target,":focus-visible")!==!1&&(C.value=!0)}function A(){k.value=!1,C.value=!1}function D(x){e.readonly&&a&&se(()=>a.forceUpdate()),s.value=x.target.checked}return F(()=>{var O,z;const x=t.label?t.label({label:e.label,props:{for:h.value}}):e.label,[fe,ve]=ne(r),N=l("input",w({ref:_,checked:s.value,disabled:!!(e.readonly||e.disabled),id:h.value,onBlur:A,onFocus:B,onInput:D,"aria-disabled":!!(e.readonly||e.disabled),type:e.type,value:v.value,name:e.name,"aria-checked":e.type==="checkbox"?s.value:void 0},ve),null);return l("div",w({class:["v-selection-control",{"v-selection-control--dirty":s.value,"v-selection-control--disabled":e.disabled,"v-selection-control--error":e.error,"v-selection-control--focused":k.value,"v-selection-control--focus-visible":C.value,"v-selection-control--inline":e.inline},i.value,e.class]},fe,{style:e.style}),[l("div",{class:["v-selection-control__wrapper",n.value],style:d.value},[(O=t.default)==null?void 0:O.call(t,{backgroundColorClasses:u,backgroundColorStyles:b}),Fe(l("div",{class:["v-selection-control__input"]},[((z=t.input)==null?void 0:z.call(t,{model:s,textColorClasses:n,textColorStyles:d,backgroundColorClasses:u,backgroundColorStyles:b,inputNode:N,icon:c.value,props:{onFocus:B,onBlur:A,id:h.value}}))??l(Ae,null,[c.value&&l($e,{key:"icon",icon:c.value},null),N])]),[[Be("ripple"),e.ripple&&[!e.disabled&&!e.readonly,null,["center","circle"]]]])]),x&&l(re,{for:h.value,clickable:!0,onClick:be=>be.stopPropagation()},{default:()=>[x]})])}),{isFocused:k,input:_}}}),me=I({indeterminate:Boolean,indeterminateIcon:{type:q,default:"$checkboxIndeterminate"},...de({falseIcon:"$checkboxOff",trueIcon:"$checkboxOn"})},"VCheckboxBtn"),le=P()({name:"VCheckboxBtn",props:me(),emits:{"update:modelValue":e=>!0,"update:indeterminate":e=>!0},setup(e,o){let{slots:r}=o;const t=S(e,"indeterminate"),a=S(e,"modelValue");function i(n){t.value&&(t.value=!1)}const c=f(()=>t.value?e.indeterminateIcon:e.falseIcon),s=f(()=>t.value?e.indeterminateIcon:e.trueIcon);return F(()=>{const n=ue(ae.filterProps(e)[0],["modelValue"]);return l(ae,w(n,{modelValue:a.value,"onUpdate:modelValue":[d=>a.value=d,i],class:["v-checkbox-btn",e.class],style:e.style,type:"checkbox",falseIcon:c.value,trueIcon:s.value,"aria-checked":t.value?"mixed":void 0}),r)}),{}}}),ct=I({...ze(),...ue(me(),["inline"])},"VCheckbox"),dt=P()({name:"VCheckbox",inheritAttrs:!1,props:ct(),emits:{"update:modelValue":e=>!0,"update:focused":e=>!0},setup(e,o){let{attrs:r,slots:t}=o;const a=S(e,"modelValue"),{isFocused:i,focus:c,blur:s}=Ee(e),n=M(),d=f(()=>e.id||`checkbox-${n}`);return F(()=>{const[u,b]=ne(r),[v,y]=Z.filterProps(e),[h,k]=le.filterProps(e);return l(Z,w({class:["v-checkbox",e.class]},u,v,{modelValue:a.value,"onUpdate:modelValue":C=>a.value=C,id:d.value,focused:i.value,style:e.style}),{...t,default:C=>{let{id:_,messagesId:B,isDisabled:A,isReadonly:D}=C;return l(le,w(h,{id:_.value,"aria-describedby":B.value,disabled:A.value,readonly:D.value},b,{modelValue:a.value,"onUpdate:modelValue":x=>a.value=x,onFocus:c,onBlur:s}),t)}})}),{}}}),mt=I({...G(),...He()},"VForm"),ft=P()({name:"VForm",props:mt(),emits:{"update:modelValue":e=>!0,submit:e=>!0},setup(e,o){let{slots:r,emit:t}=o;const a=We(e),i=T();function c(n){n.preventDefault(),a.reset()}function s(n){const d=n,u=a.validate();d.then=u.then.bind(u),d.catch=u.catch.bind(u),d.finally=u.finally.bind(u),t("submit",d),d.defaultPrevented||u.then(b=>{var y;let{valid:v}=b;v&&((y=i.value)==null||y.submit())}),d.preventDefault()}return F(()=>{var n;return l("form",{ref:i,class:["v-form",e.class],style:e.style,novalidate:!0,onReset:c,onSubmit:s},[(n=r.default)==null?void 0:n.call(r,a)])}),tt(a,i)}}),vt={class:"position-relative bg-background rounded-lg w-100 ma-8 me-0"},bt={class:"d-flex align-center justify-center w-100 h-100"},Vt={class:"text-h4 mb-1"},yt={class:"text-capitalize"},ht=p("p",{class:"mb-0"}," Please sign-in to your account and start the adventure ",-1),gt={class:"d-flex align-center flex-wrap justify-space-between mt-2 mb-4"},kt=p("a",{class:"text-primary ms-2 mb-1",href:"#"}," Forgot Password? ",-1),Rt={__name:"login",setup(e){const o=Le(),r=qe(),t=Ze(),a=T({name:"",password:"",remember:!1}),i=T(!1),c=K(st,nt,ot,lt,!0),s=K(Qe,Je),n=async()=>{const{data:d,pending:u,error:b,refresh:v}=await Xe(ut("/sign-in/process")).post(a.value);u||(j("accessToken").value=d.value.result.token,j("userAbilityRules").value=d.value.result.abilities,j("userData").value=d.value.result.user,t.update(d.value.result.abilities)),await se(()=>{r.replace(o.query.to?String(o.query.to):"/")})};return(d,u)=>{const b=at;return L(),oe(ee,{"no-gutters":"",class:"auth-wrapper bg-surface"},{default:V(()=>[l(R,{md:"8",class:"d-none d-md-flex"},{default:V(()=>[p("div",vt,[p("div",bt,[l(X,{"max-width":"505",src:m(c),class:"auth-illustration mt-16 mb-2"},null,8,["src"])]),l(X,{class:"auth-footer-mask",src:m(s)},null,8,["src"])])]),_:1}),l(R,{cols:"12",md:"4",class:"auth-card-v2 d-flex align-center justify-center"},{default:V(()=>[l(et,{flat:"","max-width":500,class:"mt-12 mt-sm-0 pa-4"},{default:V(()=>[l(te,null,{default:V(()=>[l(m(Ye),{nodes:m(Y).app.logo,class:"mb-6"},null,8,["nodes"]),p("h4",Vt,[U(" Welcome to "),p("span",yt,Ge(m(Y).app.title),1),U("!  ")]),ht]),_:1}),l(te,null,{default:V(()=>[l(ft,{onSubmit:Me(n,["prevent"])},{default:V(()=>[l(ee,null,{default:V(()=>[l(R,{cols:"12"},{default:V(()=>[l(b,{modelValue:m(a).name,"onUpdate:modelValue":u[0]||(u[0]=v=>m(a).name=v),autofocus:"",label:"Username",placeholder:"johndoe"},null,8,["modelValue"])]),_:1}),l(R,{cols:"12"},{default:V(()=>[l(b,{modelValue:m(a).password,"onUpdate:modelValue":u[1]||(u[1]=v=>m(a).password=v),label:"Password",placeholder:"路路路路路路路路路路路路",type:m(i)?"text":"password","append-inner-icon":m(i)?"tabler-eye-off":"tabler-eye","onClick:appendInner":u[2]||(u[2]=v=>i.value=!m(i))},null,8,["modelValue","type","append-inner-icon"]),p("div",gt,[l(dt,{modelValue:m(a).remember,"onUpdate:modelValue":u[3]||(u[3]=v=>m(a).remember=v),label:"Remember me"},null,8,["modelValue"]),kt]),l(Ne,{block:"",type:"submit"},{default:V(()=>[U(" Login ")]),_:1})]),_:1})]),_:1})]),_:1})]),_:1})]),_:1})]),_:1})]),_:1})}}};export{Rt as default};
