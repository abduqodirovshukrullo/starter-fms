import{a9 as A,ab as $,ac as F,r as V,b0 as L,w as y,aE as C,a5 as K,s as k,ae as T,b as o,aD as U,b2 as z,bV as N,a as O,o as B,f as M,e as c,n as p,a3 as j,bW as E,d as f,a1 as S,K as x,c as q,F as W,i as Q,A as g,v as X,x as I,L as w,R as G,U as H}from"./main-8f4bf164.js";import{P as J}from"./vue3-perfect-scrollbar.esm-6646fc21.js";import{_ as Y}from"./_plugin-vue_export-helper-c27b6911.js";import{V as Z}from"./VCard-b110a604.js";import{V as P}from"./VCardText-e36fdb2d.js";import{d as ee}from"./VTextField-6d0acdda.js";import{V as ae}from"./VDivider-730229d6.js";import{V as te,a as se}from"./VList-e5202c5f.js";import{m as oe,u as le,V as R}from"./VOverlay-aedc1a4f.js";import{f as re}from"./forwardRefs-8348545e.js";import{V as ie}from"./dialog-transition-169eb89b.js";import"./VAvatar-f2225889.js";import"./VImg-2da5316b.js";import"./transition-be9978a2.js";import"./easing-9f15041e.js";import"./ssrBoot-dc5ad16a.js";import"./lazy-5892a07e.js";const ne=A({fullscreen:Boolean,retainFocus:{type:Boolean,default:!0},scrollable:Boolean,...oe({origin:"center center",scrollStrategy:"block",transition:{component:ie},zIndex:2400})},"VDialog"),ce=$()({name:"VDialog",props:ne(),emits:{"update:modelValue":t=>!0},setup(t,_){let{slots:r}=_;const u=F(t,"modelValue"),{scopeId:b}=le(),i=V();function h(a){var d,e;const s=a.relatedTarget,n=a.target;if(s!==n&&((d=i.value)!=null&&d.contentEl)&&((e=i.value)!=null&&e.globalTop)&&![document,i.value.contentEl].includes(n)&&!i.value.contentEl.contains(n)){const l=z(i.value.contentEl);if(!l.length)return;const v=l[0],m=l[l.length-1];s===v?m.focus():v.focus()}}L&&y(()=>u.value&&t.retainFocus,a=>{a?document.addEventListener("focusin",h):document.removeEventListener("focusin",h)},{immediate:!0}),y(u,async a=>{var s,n;await C(),a?(s=i.value.contentEl)==null||s.focus({preventScroll:!0}):(n=i.value.activatorEl)==null||n.focus({preventScroll:!0})});const D=K(()=>k({"aria-haspopup":"dialog","aria-expanded":String(u.value)},t.activatorProps));return T(()=>{const[a]=R.filterProps(t);return o(R,k({ref:i,class:["v-dialog",{"v-dialog--fullscreen":t.fullscreen,"v-dialog--scrollable":t.scrollable},t.class],style:t.style},a,{modelValue:u.value,"onUpdate:modelValue":s=>u.value=s,"aria-modal":"true",activatorProps:D.value,role:"dialog"},b),{activator:r.activator,default:function(){for(var s=arguments.length,n=new Array(s),d=0;d<s;d++)n[d]=arguments[d];return o(U,{root:"VDialog"},{default:()=>{var e;return[(e=r.default)==null?void 0:e.call(r,...n)]}})}})}),re({},i)}}),ue=t=>(G("data-v-b2ceff69"),t=t(),H(),t),de={class:"d-flex align-center text-high-emphasis me-1"},pe={class:"d-flex align-start"},fe={class:"h-100"},me={class:"h-100"},ve={class:"app-bar-search-suggestions d-flex flex-column align-center justify-center text-high-emphasis h-100"},he={class:"d-flex align-center flex-wrap justify-center gap-2 text-h6 my-3"},ge=ue(()=>f("span",null,"No Result For ",-1)),Ve={__name:"AppBarSearch",props:{isDialogVisible:{type:Boolean,required:!0},searchResults:{type:Array,required:!0}},emits:["update:isDialogVisible","search"],setup(t,{emit:_}){const r=t,u=_,{ctrl_k:b,meta_k:i}=N({passive:!1,onEventFired(e){e.ctrlKey&&e.key==="k"&&e.type==="keydown"&&e.preventDefault()}}),h=V(),D=V(),a=V("");y([b,i],()=>{u("update:isDialogVisible",!0)});const s=()=>{a.value="",u("update:isDialogVisible",!1)},n=e=>{var l,v;e.key==="ArrowDown"?(e.preventDefault(),(l=h.value)==null||l.focus("next")):e.key==="ArrowUp"&&(e.preventDefault(),(v=h.value)==null||v.focus("prev"))},d=e=>{a.value="",u("update:isDialogVisible",e)};return y(()=>r.isDialogVisible,()=>{a.value=""}),(e,l)=>{const v=O("IconBtn");return B(),M(ce,{"max-width":"600","model-value":r.isDialogVisible,height:e.$vuetify.display.smAndUp?"550":"100%",fullscreen:e.$vuetify.display.width<600,class:"app-bar-search-dialog","onUpdate:modelValue":d,onKeyup:E(s,["esc"])},{default:c(()=>[o(Z,{height:"100%",width:"100%",class:"position-relative"},{default:c(()=>[o(P,{class:"pt-2"},{default:c(()=>[o(ee,{ref_key:"refSearchInput",ref:D,modelValue:p(a),"onUpdate:modelValue":[l[0]||(l[0]=m=>j(a)?a.value=m:null),l[1]||(l[1]=m=>e.$emit("search",p(a)))],autofocus:"",density:"comfortable",variant:"plain",onKeyup:E(s,["esc"]),onKeydown:n},{"prepend-inner":c(()=>[f("div",de,[o(S,{size:"22",icon:"tabler-search",style:{opacity:"1"}})])]),"append-inner":c(()=>[f("div",pe,[f("div",{class:"text-base text-disabled cursor-pointer me-1",onClick:s}," [esc] "),o(v,{size:"22",onClick:s},{default:c(()=>[o(S,{icon:"tabler-x",size:"20"})]),_:1})])]),_:1},8,["modelValue"])]),_:1}),o(ae),o(p(J),{options:{wheelPropagation:!1,suppressScrollX:!0},class:"h-100"},{default:c(()=>[x(o(p(te),{ref_key:"refSearchList",ref:h,density:"compact",class:"app-bar-search-list"},{default:c(()=>[(B(!0),q(W,null,Q(r.searchResults,m=>g(e.$slots,"searchResult",{key:m,item:m},()=>[o(p(se),null,{default:c(()=>[X(I(m),1)]),_:2},1024)],!0)),128))]),_:3},512),[[w,p(a).length&&!!r.searchResults.length]]),x(f("div",fe,[g(e.$slots,"suggestions",{},void 0,!0)],512),[[w,!!r.searchResults&&!p(a)&&e.$slots.suggestions]]),x(f("div",me,[g(e.$slots,"noData",{},()=>[o(P,{class:"h-100"},{default:c(()=>[f("div",ve,[o(S,{size:"75",icon:"tabler-file-x"}),f("div",he,[ge,f("span",null,'"'+I(p(a))+'"',1)]),g(e.$slots,"noDataSuggestion",{},void 0,!0)])]),_:3})],!0)],512),[[w,!r.searchResults.length&&p(a).length]])]),_:3})]),_:3})]),_:3},8,["model-value","height","fullscreen"])}}},Ce=Y(Ve,[["__scopeId","data-v-b2ceff69"]]);export{Ce as default};
