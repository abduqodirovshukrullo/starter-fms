import{V as W,_ as H}from"./VForm-aacac416.js";import{a9 as M,aa as N,ab as j,ac as $,ad as J,a5 as K,ae as O,aw as Q,b as a,s as x,al as X,ax as Y,am as Z,ay as ee,an as ae,at as te,az as se,aA as oe,aB as le,ap as re,r as h,w as S,H as ne,aC as ie,aD as ue,j as ce,k as de,o as me,f as fe,e as r,d as p,n as o,v as _,x as I,a6 as pe,a7 as ve,a3 as be,I as T,ah as P,aE as Ve}from"./main-8f4bf164.js";import{u as B,m as ke,a as ge}from"./misc-mask-light-f230e6ac.js";import{V as he}from"./VNodeRenderer-a6bb44b0.js";import{u as _e}from"./useAbility-b1750d10.js";import{u as ye}from"./useApi-e3dff6f1.js";import{c as xe}from"./createUrl-4ac06473.js";import{V as A}from"./VImg-2da5316b.js";import{a as y,V as L}from"./VRow-bdc8a60e.js";import{V as we}from"./VCard-b110a604.js";import{V as R}from"./VCardText-e36fdb2d.js";import{m as Pe,V as U}from"./VCheckboxBtn-0bc48480.js";import{m as Ce,u as Se,V as D}from"./VTextField-6d0acdda.js";import{m as Ie,u as Te,V as F}from"./VOverlay-aedc1a4f.js";import{f as Be}from"./forwardRefs-8348545e.js";import"./index-51d05da2.js";import"./transition-be9978a2.js";import"./VAvatar-f2225889.js";import"./easing-9f15041e.js";import"./lazy-5892a07e.js";const Ae=M({...Ce(),...N(Pe(),["inline"])},"VCheckbox"),Le=j()({name:"VCheckbox",inheritAttrs:!1,props:Ae(),emits:{"update:modelValue":e=>!0,"update:focused":e=>!0},setup(e,v){let{attrs:u,slots:l}=v;const n=$(e,"modelValue"),{isFocused:i,focus:b,blur:f}=Se(e),V=J(),k=K(()=>e.id||`checkbox-${V}`);return O(()=>{const[g,c]=Q(u),[t,d]=D.filterProps(e),[s,C]=U.filterProps(e);return a(D,x({class:["v-checkbox",e.class]},g,t,{modelValue:n.value,"onUpdate:modelValue":m=>n.value=m,id:k.value,focused:i.value,style:e.style}),{...l,default:m=>{let{id:w,messagesId:q,isDisabled:z,isReadonly:E}=m;return a(U,x(s,{id:w.value,"aria-describedby":q.value,disabled:z.value,readonly:E.value},c,{modelValue:n.value,"onUpdate:modelValue":G=>n.value=G,onFocus:b,onBlur:f}),l)}})}),{}}}),Re="/build/assets/auth-v2-login-illustration-bordered-dark-a595a9b7.png",Ue="/build/assets/auth-v2-login-illustration-bordered-light-47ee3625.png",De="/build/assets/auth-v2-login-illustration-dark-0878e8b9.png",Fe="/build/assets/auth-v2-login-illustration-light-d1fd488d.png";const Me=M({multiLine:Boolean,timeout:{type:[Number,String],default:5e3},vertical:Boolean,...X({location:"bottom"}),...Y(),...Z(),...ee(),...ae(),...N(Ie({transition:"v-snackbar-transition"}),["persistent","noClickAnimation","scrim","scrollStrategy"])},"VSnackbar"),Ne=j()({name:"VSnackbar",props:Me(),emits:{"update:modelValue":e=>!0},setup(e,v){let{slots:u}=v;const l=$(e,"modelValue"),{locationStyles:n}=te(e),{positionClasses:i}=se(e),{scopeId:b}=Te(),{themeClasses:f}=oe(e),{colorClasses:V,colorStyles:k,variantClasses:g}=le(e),{roundedClasses:c}=re(e),t=h();S(l,s),S(()=>e.timeout,s),ne(()=>{l.value&&s()});let d=-1;function s(){window.clearTimeout(d);const m=Number(e.timeout);!l.value||m===-1||(d=window.setTimeout(()=>{l.value=!1},m))}function C(){window.clearTimeout(d)}return O(()=>{const[m]=F.filterProps(e);return a(F,x({ref:t,class:["v-snackbar",{"v-snackbar--active":l.value,"v-snackbar--multi-line":e.multiLine&&!e.vertical,"v-snackbar--vertical":e.vertical},i.value,e.class],style:e.style},m,{modelValue:l.value,"onUpdate:modelValue":w=>l.value=w,contentProps:x({class:["v-snackbar__wrapper",f.value,V.value,c.value,g.value],style:[n.value,k.value],onPointerenter:C,onPointerleave:s},m.contentProps),persistent:!0,noClickAnimation:!0,scrim:!1,scrollStrategy:"none",_disableGlobalStack:!0},b),{default:()=>[ie(!1,"v-snackbar"),u.default&&a("div",{class:"v-snackbar__content",role:"status","aria-live":"polite"},[u.default()]),u.actions&&a(ue,{defaults:{VBtn:{variant:"text",ripple:!1}}},{default:()=>[a("div",{class:"v-snackbar__actions"},[u.actions()])]})],activator:u.activator})}),Be({},t)}}),je={class:"position-relative bg-background rounded-lg w-100 ma-8 me-0"},$e={class:"d-flex align-center justify-center w-100 h-100"},Oe={class:"text-h4 mb-1"},qe={class:"text-capitalize"},ze=p("p",{class:"mb-0"}," Please sign-in to your account and start the adventure ",-1),Ee={class:"d-flex align-center flex-wrap justify-space-between mt-2 mb-4"},Ge=p("a",{class:"text-primary ms-2 mb-1",href:"#"}," Forgot Password? ",-1),ma={__name:"login",setup(e){const v=ce(),u=de(),l=_e(),n=h(!1),i=h({name:"",password:"",remember:!1}),b=h(""),f=h(!1),V=B(Fe,De,Ue,Re,!0),k=B(ge,ke),g=async()=>{const{data:c,pending:t,error:d,refresh:s}=await ye(xe("/sign-in/process")).post(i.value);if(!t){if(d.value){b.value="Wrong credentials!",n.value=!0;return}P("accessToken").value=c.value.result.token,P("userAbilityRules").value=c.value.result.abilities,P("userData").value=c.value.result.user,l.update(c.value.result.abilities),await Ve(()=>{u.replace(v.query.to?String(v.query.to):"/")})}};return(c,t)=>{const d=H;return me(),fe(L,{"no-gutters":"",class:"auth-wrapper bg-surface"},{default:r(()=>[a(y,{md:"8",class:"d-none d-md-flex"},{default:r(()=>[p("div",je,[p("div",$e,[a(A,{"max-width":"505",src:o(V),class:"auth-illustration mt-16 mb-2"},null,8,["src"])]),a(A,{class:"auth-footer-mask",src:o(k)},null,8,["src"])])]),_:1}),a(y,{cols:"12",md:"4",class:"auth-card-v2 d-flex align-center justify-center"},{default:r(()=>[a(we,{flat:"","max-width":500,class:"mt-12 mt-sm-0 pa-4"},{default:r(()=>[a(R,null,{default:r(()=>[a(o(he),{nodes:o(T).app.logo,class:"mb-6"},null,8,["nodes"]),p("h4",Oe,[_(" Welcome to "),p("span",qe,I(o(T).app.title),1),_("!  ")]),ze]),_:1}),a(R,null,{default:r(()=>[a(W,{onSubmit:pe(g,["prevent"])},{default:r(()=>[a(L,null,{default:r(()=>[a(y,{cols:"12"},{default:r(()=>[a(d,{modelValue:o(i).name,"onUpdate:modelValue":t[0]||(t[0]=s=>o(i).name=s),autofocus:"",label:"Username",placeholder:"johndoe"},null,8,["modelValue"])]),_:1}),a(y,{cols:"12"},{default:r(()=>[a(d,{modelValue:o(i).password,"onUpdate:modelValue":t[1]||(t[1]=s=>o(i).password=s),label:"Password",placeholder:"路路路路路路路路路路路路",type:o(f)?"text":"password","append-inner-icon":o(f)?"tabler-eye-off":"tabler-eye","onClick:appendInner":t[2]||(t[2]=s=>f.value=!o(f))},null,8,["modelValue","type","append-inner-icon"]),p("div",Ee,[a(Le,{modelValue:o(i).remember,"onUpdate:modelValue":t[3]||(t[3]=s=>o(i).remember=s),label:"Remember me"},null,8,["modelValue"]),Ge]),a(ve,{block:"",type:"submit"},{default:r(()=>[_(" Login ")]),_:1})]),_:1})]),_:1})]),_:1})]),_:1})]),_:1}),a(Ne,{modelValue:o(n),"onUpdate:modelValue":t[4]||(t[4]=s=>be(n)?n.value=s:null),location:"top right",variant:"flat",color:"error"},{default:r(()=>[_(I(o(b)),1)]),_:1},8,["modelValue"])]),_:1})]),_:1})}}};export{ma as default};
