import{ac as T,ad as G,ae as I,af as W,ag as Z,a5 as C,ah as A,db as ee,b as a,s as x,c1 as F,o as S,c as ae,n as o,f as H,z as te,aV as se,i as oe,e as c,A as le,br as L,ba as B,y as ne,am as re,r as g,ap as ie,dc as ue,aq as ce,cq as de,ar as me,ax as fe,dd as pe,cr as ve,cD as be,at as Ve,w as $,H as ke,cJ as he,cL as ge,j as _e,k as ye,d as h,v as _,x as D,a6 as xe,a7 as Pe,a3 as we,I as U,ak as w,bq as Ce}from"./main-bb175efe.js";import{a as Se,b as Te,c as M,d as Ie,V as Ae,e as Re,f as Fe}from"./VTextField-aa412089.js";import{u as N,m as Le,a as Be}from"./misc-mask-light-5fa65a7e.js";import{V as $e}from"./VNodeRenderer-23476e81.js";import{u as De}from"./useAbility-6649afdc.js";import{u as Ue}from"./index-4df3c819.js";import{m as Me,V as j,c as Ne}from"./createUrl-c26486a1.js";import{V as q}from"./VImg-eedbfd95.js";import{a as y,V as z}from"./VRow-f755a68b.js";import{V as je}from"./VCard-4f4d4a2d.js";import{V as O}from"./VCardText-4e45446e.js";import{f as J,m as qe,u as ze,V as E}from"./forwardRefs-452d2fae.js";import"./VAvatar-ac4a682b.js";const Oe=T({...Se(),...G(Me(),["inline"])},"VCheckbox"),Ee=I()({name:"VCheckbox",inheritAttrs:!1,props:Oe(),emits:{"update:modelValue":e=>!0,"update:focused":e=>!0},setup(e,v){let{attrs:n,slots:t}=v;const s=W(e,"modelValue"),{isFocused:r,focus:b,blur:d}=Te(e),m=Z(),f=C(()=>e.id||`checkbox-${m}`);return A(()=>{const[u,V]=ee(n),[l,p]=M.filterProps(e),[i,R]=j.filterProps(e);return a(M,x({class:["v-checkbox",e.class]},u,l,{modelValue:s.value,"onUpdate:modelValue":k=>s.value=k,id:f.value,focused:r.value,style:e.style}),{...t,default:k=>{let{id:P,messagesId:K,isDisabled:Q,isReadonly:X}=k;return a(j,x(i,{id:P.value,"aria-describedby":K.value,disabled:Q.value,readonly:X.value},V,{modelValue:s.value,"onUpdate:modelValue":Y=>s.value=Y,onFocus:b,onBlur:d}),t)}})}),{}}}),Ge=Object.assign({name:"AppTextField",inheritAttrs:!1},{__name:"AppTextField",setup(e){const v=C(()=>{const t=F(),s=t.id||t.label;return s?`app-text-field-${s}-${Math.random().toString(36).slice(2,7)}`:void 0}),n=C(()=>F().label);return(t,s)=>(S(),ae("div",{class:ne(["app-text-field flex-grow-1",t.$attrs.class])},[o(n)?(S(),H(Ie,{key:0,for:o(v),class:"mb-1 text-body-2 text-high-emphasis",text:o(n)},null,8,["for","text"])):te("",!0),a(Ae,L(B({...t.$attrs,class:null,label:void 0,variant:"outlined",id:o(v)})),se({_:2},[oe(t.$slots,(r,b)=>({name:b,fn:c(d=>[le(t.$slots,b,L(B(d||{})))])}))]),1040)],2))}}),We="/build/assets/auth-v2-login-illustration-bordered-dark-a595a9b7.png",He="/build/assets/auth-v2-login-illustration-bordered-light-47ee3625.png",Je="/build/assets/auth-v2-login-illustration-dark-0878e8b9.png",Ke="/build/assets/auth-v2-login-illustration-light-d1fd488d.png";const Qe=T({...re(),...Re()},"VForm"),Xe=I()({name:"VForm",props:Qe(),emits:{"update:modelValue":e=>!0,submit:e=>!0},setup(e,v){let{slots:n,emit:t}=v;const s=Fe(e),r=g();function b(m){m.preventDefault(),s.reset()}function d(m){const f=m,u=s.validate();f.then=u.then.bind(u),f.catch=u.catch.bind(u),f.finally=u.finally.bind(u),t("submit",f),f.defaultPrevented||u.then(V=>{var p;let{valid:l}=V;l&&((p=r.value)==null||p.submit())}),f.preventDefault()}return A(()=>{var m;return a("form",{ref:r,class:["v-form",e.class],style:e.style,novalidate:!0,onReset:b,onSubmit:d},[(m=n.default)==null?void 0:m.call(n,s)])}),J(s,r)}});const Ye=T({multiLine:Boolean,timeout:{type:[Number,String],default:5e3},vertical:Boolean,...ie({location:"bottom"}),...ue(),...ce(),...de(),...me(),...G(qe({transition:"v-snackbar-transition"}),["persistent","noClickAnimation","scrim","scrollStrategy"])},"VSnackbar"),Ze=I()({name:"VSnackbar",props:Ye(),emits:{"update:modelValue":e=>!0},setup(e,v){let{slots:n}=v;const t=W(e,"modelValue"),{locationStyles:s}=fe(e),{positionClasses:r}=pe(e),{scopeId:b}=ze(),{themeClasses:d}=ve(e),{colorClasses:m,colorStyles:f,variantClasses:u}=be(e),{roundedClasses:V}=Ve(e),l=g();$(t,i),$(()=>e.timeout,i),ke(()=>{t.value&&i()});let p=-1;function i(){window.clearTimeout(p);const k=Number(e.timeout);!t.value||k===-1||(p=window.setTimeout(()=>{t.value=!1},k))}function R(){window.clearTimeout(p)}return A(()=>{const[k]=E.filterProps(e);return a(E,x({ref:l,class:["v-snackbar",{"v-snackbar--active":t.value,"v-snackbar--multi-line":e.multiLine&&!e.vertical,"v-snackbar--vertical":e.vertical},r.value,e.class],style:e.style},k,{modelValue:t.value,"onUpdate:modelValue":P=>t.value=P,contentProps:x({class:["v-snackbar__wrapper",d.value,m.value,V.value,u.value],style:[s.value,f.value],onPointerenter:R,onPointerleave:i},k.contentProps),persistent:!0,noClickAnimation:!0,scrim:!1,scrollStrategy:"none",_disableGlobalStack:!0},b),{default:()=>[he(!1,"v-snackbar"),n.default&&a("div",{class:"v-snackbar__content",role:"status","aria-live":"polite"},[n.default()]),n.actions&&a(ge,{defaults:{VBtn:{variant:"text",ripple:!1}}},{default:()=>[a("div",{class:"v-snackbar__actions"},[n.actions()])]})],activator:n.activator})}),J({},l)}}),ea={class:"position-relative bg-background rounded-lg w-100 ma-8 me-0"},aa={class:"d-flex align-center justify-center w-100 h-100"},ta={class:"text-h4 mb-1"},sa={class:"text-capitalize"},oa=h("p",{class:"mb-0"}," Please sign-in to your account and start the adventure ",-1),la={class:"d-flex align-center flex-wrap justify-space-between mt-2 mb-4"},na=h("a",{class:"text-primary ms-2 mb-1",href:"#"}," Forgot Password? ",-1),ga={__name:"login",setup(e){const v=_e(),n=ye(),t=De(),s=g(!1),r=g({name:"",password:"",remember:!1}),b=g(""),d=g(!1),m=N(Ke,Je,He,We,!0),f=N(Be,Le),u=async()=>{const{data:V,pending:l,error:p,refresh:i}=await Ue(Ne("/sign-in/process")).post(r.value);if(!l){if(p.value){b.value="Wrong credentials!",s.value=!0;return}w("accessToken").value=V.value.result.token,w("userAbilityRules").value=V.value.result.abilities,w("userData").value=V.value.result.user,t.update(V.value.result.abilities),await Ce(()=>{n.replace(v.query.to?String(v.query.to):"/")})}};return(V,l)=>{const p=Ge;return S(),H(z,{"no-gutters":"",class:"auth-wrapper bg-surface"},{default:c(()=>[a(y,{md:"8",class:"d-none d-md-flex"},{default:c(()=>[h("div",ea,[h("div",aa,[a(q,{"max-width":"505",src:o(m),class:"auth-illustration mt-16 mb-2"},null,8,["src"])]),a(q,{class:"auth-footer-mask",src:o(f)},null,8,["src"])])]),_:1}),a(y,{cols:"12",md:"4",class:"auth-card-v2 d-flex align-center justify-center"},{default:c(()=>[a(je,{flat:"","max-width":500,class:"mt-12 mt-sm-0 pa-4"},{default:c(()=>[a(O,null,{default:c(()=>[a(o($e),{nodes:o(U).app.logo,class:"mb-6"},null,8,["nodes"]),h("h4",ta,[_(" Welcome to "),h("span",sa,D(o(U).app.title),1),_("! 👋🏻 ")]),oa]),_:1}),a(O,null,{default:c(()=>[a(Xe,{onSubmit:xe(u,["prevent"])},{default:c(()=>[a(z,null,{default:c(()=>[a(y,{cols:"12"},{default:c(()=>[a(p,{modelValue:o(r).name,"onUpdate:modelValue":l[0]||(l[0]=i=>o(r).name=i),autofocus:"",label:"Username",placeholder:"johndoe"},null,8,["modelValue"])]),_:1}),a(y,{cols:"12"},{default:c(()=>[a(p,{modelValue:o(r).password,"onUpdate:modelValue":l[1]||(l[1]=i=>o(r).password=i),label:"Password",placeholder:"············",type:o(d)?"text":"password","append-inner-icon":o(d)?"tabler-eye-off":"tabler-eye","onClick:appendInner":l[2]||(l[2]=i=>d.value=!o(d))},null,8,["modelValue","type","append-inner-icon"]),h("div",la,[a(Ee,{modelValue:o(r).remember,"onUpdate:modelValue":l[3]||(l[3]=i=>o(r).remember=i),label:"Remember me"},null,8,["modelValue"]),na]),a(Pe,{block:"",type:"submit"},{default:c(()=>[_(" Login ")]),_:1})]),_:1})]),_:1})]),_:1})]),_:1})]),_:1}),a(Ze,{modelValue:o(s),"onUpdate:modelValue":l[4]||(l[4]=i=>we(s)?s.value=i:null),location:"top right",variant:"flat",color:"error"},{default:c(()=>[_(D(o(b)),1)]),_:1},8,["modelValue"])]),_:1})]),_:1})}}};export{ga as default};
